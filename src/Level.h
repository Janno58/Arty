#pragma once

////////////////////////////////////////////////////////////////////////////////
#include "Background.h"
#include "Pixel.h"

////////////////////////////////////////////////////////////////////////////////
class Level : public sf::Drawable {
public:

    ////////////////////////////////////////////////////////////////////////////
    Level(unsigned int width, unsigned int height);

    ////////////////////////////////////////////////////////////////////////////
    sf::Color GetBackgroundColor() const;

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2u GetSize() const;

    ////////////////////////////////////////////////////////////////////////////
    sf::Color GetPixel(sf::Vector2f pos) const;

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2f GetSpawn(std::vector<sf::Vector2f>::size_type index) const;

    ////////////////////////////////////////////////////////////////////////////
    void SetPixels(const std::vector<Pixel>& newPixels);

private:

    ////////////////////////////////////////////////////////////////////////////
    void draw(sf::RenderTarget &target, sf::RenderStates states) const override;

    ////////////////////////////////////////////////////////////////////////////
    unsigned int width;
    unsigned int height;

    ////////////////////////////////////////////////////////////////////////////
    sf::Texture texture;

    ////////////////////////////////////////////////////////////////////////////
    sf::VertexArray vertices;

    ////////////////////////////////////////////////////////////////////////////
    std::vector<sf::Uint8> pixels;

    ////////////////////////////////////////////////////////////////////////////
    Background background;

    ////////////////////////////////////////////////////////////////////////////
    std::vector<sf::Vector2f> spawns;
};

