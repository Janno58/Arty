#pragma once

////////////////////////////////////////////////////////////////////////////////
#include <SFML/Graphics.hpp>

////////////////////////////////////////////////////////////////////////////////
const sf::Vector2f Gravity = {0.F, 9.8F};

////////////////////////////////////////////////////////////////////////////////
class Unit : public sf::Drawable {
public:

    ////////////////////////////////////////////////////////////////////////////
    Unit();

    ////////////////////////////////////////////////////////////////////////////
    void MouseMove(sf::Vector2f mousePos);

    ////////////////////////////////////////////////////////////////////////////
    void StepPhysics(float dt);

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2f GetPosition() const;

    ////////////////////////////////////////////////////////////////////////////
    void SetPosition(sf::Vector2f newPos);

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2f GetSize() const;

    ////////////////////////////////////////////////////////////////////////////
    void SetVelocity(sf::Vector2f newVelocity);

private:

    ////////////////////////////////////////////////////////////////////////////
    void draw(sf::RenderTarget &target, sf::RenderStates states) const override;

    ////////////////////////////////////////////////////////////////////////////
    sf::Texture texture;

    ////////////////////////////////////////////////////////////////////////////
    sf::Sprite sprite;

    ////////////////////////////////////////////////////////////////////////////
    sf::Texture turretTexture;
    sf::Sprite turretSprite;

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2f turretOffset;

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2f spriteCenterOffset;

    ////////////////////////////////////////////////////////////////////////////
    sf::Vector2f velocity{0.F, 0.F};

    ///////////////////////////////////////////////////////////////////////////
    float inverseMass = 1.F/100.F;

    ////////////////////////////////////////////////////////////////////////////
    float scale = 0.5F;

};
